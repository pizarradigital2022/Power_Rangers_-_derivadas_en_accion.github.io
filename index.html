<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Breakout Power Rangers ‚Äî Derivadas en Acci√≥n</title>

<script>
window.MathJax = {
  tex: {inlineMath: [['\\(','\\)']], displayMath: [['\\[','\\]']]}
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
body{
    margin:0;
    font-family:'Trebuchet MS', sans-serif;
    background: radial-gradient(circle, #001f3f, #000000);
    color:white;
    text-align:center;
}
  
h1, h2, h3, h4, h5, h6 {
    text-align: center;
}

.screen{display:none; padding:20px;}
.active{display:block;}

.timer{
    position:fixed;
    top:10px;
    right:20px;
    font-size:22px;
    background:black;
    padding:10px;
    border-radius:10px;
    color:#00ffcc;
}

button{
    background:#cc0000;
    border:none;
    padding:12px 20px;
    color:white;
    font-size:16px;
    cursor:pointer;
    border-radius:8px;
    margin:10px;
}
button:hover{background:#ff0000;}

.math{
    font-size:22px;
    margin:20px;
    background:rgba(255,255,255,0.1);
    padding:15px;
    border-radius:10px;
}

.hint{display:none; margin:10px; color:#ffff00;}

.image-box{
    margin:20px auto;
    width:500px;
}

.video-box{
    margin:20px auto;
}

.candado {
  width: 350px;
  height: 60px;
  font-size: 24px;
  text-align: center;
  border-radius: 12px;
  border: 3px solid #ff0000;
  box-shadow: 0 0 15px #ff0000;
}

.instrucciones {
    font-size: 14px; /* o el tama√±o que quieras */
    color: #ffff88;  /* opcional: color m√°s suave para distinguirlo */
    margin-top: 10px;
}

.teacher-panel{
    position:fixed;
    bottom:0;
    left:0;
    background:black;
    color:#00ffcc;
    padding:12px;
    font-size:14px;
    border-top:2px solid #00ffcc;
    max-width:300px;
}
.sol{
    color:#ffff00;
    font-weight:bold;
}
</style>
</head>

<body>

<div class="timer" id="timer">Tiempo: --:--</div>

<!-- INTRO -->
<div id="intro" class="screen active">
<h1>‚ö° Breakout Power Rangers: Derivadas en Acci√≥n ‚ö°</h1>
<img src="./resources/intro_pr.png" width="500" alt="introducci√≥n">
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/wf06ZIbgpwc?si=CbKHnVVfSZ1-7wkz" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/nHalaFUqnTI?si=7cGBoVH2mvWvTTxk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  
<p>La ciudad de Angel Grove est√° bajo ataque. Los mayores villanos se han aliado para amenazar la econom√≠a mundial y derrotar a los Power Rangers.</p>
<p>Solo dominando las derivadas podr√©is activar los Zords, formar el Megazord y vencerlos.</p>

<h2>Selecciona duraci√≥n</h2>
<button onclick="startGame(60)">Modo 60 min</button>
<button onclick="startGame(90)">Modo 90 min</button>

<hr>
<p>Si quieres habilitar el panel del profesor introduce la contrase√±a: <input type="password" id="accesoProfe" placeholder="Acceso profesor"></p>  
<hr>
<p>Autor: Joaqu√≠n Canda√±edo.<br><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="./resources/CC_BY_SA.png" alt="Creative Commons Reconocimiento - Compartir Igual"></a></p>  
</div>

</div>

<!-- PRUEBA 1 -->
<div id="test1" class="screen">
<h1>üßô Rita Repulsa ‚Äî Sabotaje econ√≥mico üßô</h1>

<div class="image-box">
<img src="./resources/rita.png" width="500" alt="Rita">
</div>

<p>Rita ha manipulado los beneficios de una empresa para hundir el mercado. Pero a√∫n no es tarde, tenemos la oportunidad de vencerla derivando...</p>

<div class="math">\( B(x)=x^3-6x^2+9x \)</div>
<p>Calcula \(B'(2)\)</p>

<button onclick="showHint('h1')">Pista</button>
<div id="h1" class="hint">Deriva y sustituye x=2</div>

<button onclick="next('test2')">Continuar</button>
</div>

<!-- PRUEBA 2 -->
<div id="test2" class="screen">
<h1>üó° Goldar ‚Äî Crisis de producci√≥n üó°</h1>

<div class="image-box">
<img src="./resources/goldar.png" width="500" alt="Goldar">
</div>

<p>Goldar bloquea las f√°bricas. Necesitamos analizar el coste medio para vencerlo, y para ello necesitamos derivar.</p>

<div class="math">\( C(x)=\frac{2x+5}{x} \)</div>
<p>Calcula \(C'(5)\)</p>

<button onclick="showHint('h2')">Pista</button>
<div id="h2" class="hint">Simplifica antes de derivar.</div>

<button onclick="next('test3')">Continuar</button>
</div>

<!-- PRUEBA 3 -->
<div id="test3" class="screen">
<h1>‚ö° Lord Zedd ‚Äî Manipulaci√≥n digital ‚ö°</h1>

<div class="image-box">
<img src="./resources/zedd.png" width="500" alt="Goldar">
</div>

<p>Lord Zedd manipula el crecimiento de usuarios para colapsar la red, es un ataque digital contra las criptomonedas que s√≥lo podr√°s parar derivando.</p>

<div class="math">\( U(x)=3e^{0.5x} \)</div>
<p>Calcula \(U'(0)\)</p>

<button onclick="showHint('h3')">Pista</button>
<div id="h3" class="hint">La derivada de \(e^{kx}\) es proporcional a ella misma.</div>

<button onclick="next('test4')">Continuar</button>
</div>

<!-- PRUEBA 4 -->
<div id="test4" class="screen">
<h1>üß™ Ivan Ooze ‚Äî Caos en la demanda üß™</h1>

<div class="image-box">
<img src="./resources/ooze.png" width="500" alt="Ivan Ooze">
</div>

<p>Ivan Ooze altera la demanda global. Necesitas derivar para analizar la elasticidad y con ello poder restaurar el correcto funcionamiento de las leyes de la oferta y la demanda.</p>

<div class="math">\( D(x)=\ln(x^2+1) \)</div>
<p>Calcula \(D'(1)\)</p>

<button onclick="showHint('h4')">Pista</button>
<div id="h4" class="hint">Usa regla de la cadena.</div>

<button onclick="next('lock')">Ir al candado final</button>
</div>

<!-- CANDADO FINAL -->
<div id="lock" class="screen">
<h1>üîê Activar Megazord üîê</h1>

<div class="image-box">
<img src="./resources/megazord_ready.png" width="500" alt="Llamando al Megazord">
</div>

<p>Los Zords est√°n listos para ser invocados. Introduce el c√≥digo para formar el Megazord.</p>
<p class="instrucciones">
  Para construir el c√≥digo de invocaci√≥n usa las <strong>siguientes instrucciones</strong>:
  <br> <strong>Prueba 1 - Rita</strong>: Valor absoluto del resultado obtenido.
  <br> <strong>Prueba 2 - Goldar</strong>: Primer d√≠gito de la parte decimal (sin signo).
  <br> <strong>Prueba 3 - Lord Zedd</strong>: Valor absoluto del resultado multiplicado por 10.
  <br> <strong>Prueba 4 - Ivan Ooze</strong>: Valor obtenido.
  <br> ¬°√Ånimo! ¬°Hay que introducir correctamente los valores para vencer a los villanos!
</p>
<p><strong>Formato:</strong> Rita-Goldar-Zedd-Ooze</p>
<input id="password" class="candado" placeholder="----">
<br>
<button onclick="checkPassword()">Activar</button>
</div>

<!-- √âXITO -->
<div id="success" class="screen">
<h1>ü§ñ ¬°Megazord Activado! ü§ñ</h1>

<img src="./resources/exito_pr.png" width="500" alt="√âxito">
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/TBHKeRWKqN8?si=uhl6b_prkHH86OVj" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/KmwJpCNK4vM?si=E3Tia9mXVO-_LPxn" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  
<p>El Megazord derrota al monstruo. La ciudad est√° a salvo.</p>
</div>

<!-- FRACASO -->
<div id="fail" class="screen">
<h1>üí• Los malvados han ganado üí•</h1>

<img src="./resources/fracaso_pr.png" width="500" alt="Fracaso">
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/jcC69HvAeec?si=8ZfAGDLw_cGtkpux" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/SzP-Rfthhno?si=MgqhN3HklX-_7rab" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  
<p>Los villanos dominan la ciudad. La econom√≠a ha colapsado.</p>
<button onclick="restart()">Reintentar</button>
</div>

<!-- PANEL PROFESOR -->
<div id="panelProfesor" class="teacher-panel" style="display:none;">
  <b>üßë‚Äçüè´ Panel Profesor ‚Äî Soluciones</b><br><br>

  <b>Rita Repulsa</b> ‚Üí B'(2) = <span class="sol">-3</span><br>
  <b>Goldar</b> ‚Üí C'(5) = <span class="sol">-0.2</span><br>
  <b>Lord Zedd</b> ‚Üí U'(0) = <span class="sol">1.5</span><br>
  <b>Ivan Ooze</b> ‚Üí D'(1) = <span class="sol">1</span><br><br>

  üîê Contrase√±a final: <b>3-2-15-1</b>
</div>

<script>
let timeLeft;
let timerInterval;
let gameFinished=false;

function startGame(minutes){
    timeLeft = minutes*60;
    gameFinished=false;
    show('test1');
    startTimer();
}

function startTimer(){
    timerInterval=setInterval(()=>{
        if(gameFinished) return;
        timeLeft--;
        let m=Math.floor(timeLeft/60);
        let s=timeLeft%60;
        document.getElementById("timer").innerText=`Tiempo: ${m}:${s.toString().padStart(2,'0')}`;
        if(timeLeft<=0){
            show('fail');
            clearInterval(timerInterval);
        }
    },1000);
}

function show(id){
    document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

function next(id){ show(id); }

function checkPassword(){
    let pass=document.getElementById("password").value.trim();
    if(pass==="3-2-15-1"){
        gameFinished=true;
        show('success');
    }else{
        show('fail');
    }
}

function restart(){
    clearInterval(timerInterval);
    show('intro');
    document.getElementById("timer").innerText="Tiempo: --:--";
}

function showHint(id){
    document.getElementById(id).style.display="block";
}

document.getElementById("accesoProfe").addEventListener("input", function() {
  const clave = this.value.trim();
  const panel = document.getElementById("panelProfesor");

  if (clave === "PROFE") {
    panel.style.display = "block";
  } else {
    panel.style.display = "none";
  }
});
</script>

</body>
</html>
